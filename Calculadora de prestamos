using Spectre.Console;



var table = new Table();



Console.WriteLine("Ingresa el monto del préstamo: ");
decimal montoPrestamo = decimal.Parse(Console.ReadLine()!);

Console.WriteLine("Ingresa el interés anual: ");
decimal interesAnual = decimal.Parse(Console.ReadLine()!);

Console.WriteLine("Ingresa el plazo del préstamo: ");
int plazoPrestamo = int.Parse(Console.ReadLine()!);

decimal interesMensual = interesAnual / 12;
interesMensual = interesMensual / 100;

decimal n = (decimal)Math.Pow(1 + (double)interesMensual, plazoPrestamo);
decimal d = (decimal)Math.Pow(1 + (double)interesMensual, plazoPrestamo) - 1;

decimal cuotaFija = montoPrestamo * interesMensual * (n / d);

table.AddColumn("No. de cuota");
table.AddColumn("Pago de cuota");
table.AddColumn("Interés a pagar");
table.AddColumn("Abono a capital");
table.AddColumn("Saldo");




for  (int i = 0; i < plazoPrestamo; i++)
{
    decimal No_cuota = i+1;
    decimal interes_a_pagar = montoPrestamo * interesMensual;
    montoPrestamo -= cuotaFija - interes_a_pagar;

    table.AddRow(
        No_cuota.ToString("F2"),
        cuotaFija.ToString("F2"),
        interes_a_pagar.ToString("F2"),
        (cuotaFija - interes_a_pagar).ToString("F2"),
        montoPrestamo.ToString("F2")
    );
}




AnsiConsole.Write(table);
